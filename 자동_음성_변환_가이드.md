# 자동 음성 변환 시스템 가이드 🎧

> GitHub Actions + TTS를 활용한 자동 음성 변환 블로그 시스템

## 🚀 시스템 개요

이제 `_notes` 폴더에 마크다운 파일을 push하면 **GitHub Actions가 자동으로 TTS 변환**을 수행하고, **블로그에서 바로 음성을 들을 수 있는 버튼**이 생성됩니다!

### 🔄 자동화 워크플로우

1. **노트 작성**: `_notes/` 폴더에 마크다운 파일 작성
2. **Git Push**: GitHub에 변경사항 푸시
3. **자동 변환**: GitHub Actions가 TTS 변환 실행
4. **음성 파일 생성**: `assets/audio/` 폴더에 MP3 파일 생성
5. **블로그 업데이트**: 웹사이트에 음성 재생 버튼 자동 추가

### 📱 블로그 기능

- **🎧 음성 듣기 버튼**: 전체 노트 내용 음성 재생
- **📋 요약 듣기 버튼**: 노트 요약 음성 재생  
- **⏸️ 재생 제어**: 일시정지, 정지, 볼륨 조절
- **📊 진행률 표시**: 재생 진행률과 시간 표시
- **📱 모바일 최적화**: 반응형 UI

## 🛠️ 설정된 구성 요소

### 1. GitHub Actions Workflow
**파일**: `.github/workflows/tts-convert.yml`

```yaml
# 핵심 기능:
- _notes/**/*.md 파일 변경 시 자동 실행
- Google TTS (gTTS) 사용
- 한국어 음성 생성
- 5000자 초과 시 요약 음성 생성
- assets/audio/ 폴더에 MP3 파일 저장
```

### 2. JavaScript 음성 플레이어
**파일**: `assets/js/tts-player.js`

```javascript
// 주요 기능:
- 자동 음성 파일 감지
- 재생/일시정지 제어
- 볼륨 조절
- 진행률 표시
- 모바일 반응형 UI
```

### 3. 블로그 레이아웃 통합
**파일**: `_layouts/post.html`

```html
<!-- 모든 노트 페이지에 음성 플레이어 자동 추가 -->
<script src="/assets/js/tts-player.js"></script>
```

## 📝 사용법

### 1. 노트 작성 및 푸시

```bash
# 1. 노트 작성
vim _notes/새로운_ML_개념.md

# 2. Git 커밋
git add _notes/새로운_ML_개념.md
git commit -m "✨ 새로운 ML 개념 노트 추가"

# 3. 푸시 (자동 변환 시작)
git push origin main
```

### 2. GitHub Actions 모니터링

```
GitHub Repository → Actions 탭 → TTS Conversion workflow 확인
```

### 3. 블로그에서 음성 듣기

```
https://cozzin.github.io/notes/새로운_ML_개념/
↓
🎧 음성 듣기 버튼 클릭
↓
자동 재생 시작!
```

## 🎯 지원되는 기능

### 자동 생성되는 음성 파일

#### 📄 전체 내용 음성 (`파일명.mp3`)
- **조건**: 텍스트 길이 5000자 이하
- **예시**: `ML_기초_개념.mp3`
- **버튼**: 🎧 음성 듣기

#### 📋 요약 음성 (`파일명_summary.mp3`)
- **조건**: 텍스트 길이 5000자 초과
- **내용**: 섹션 제목 기반 요약
- **버튼**: 📋 요약 듣기

### 음성 최적화 처리

```python
# 자동으로 처리되는 내용:
- YAML front matter 제거
- 마크다운 문법 정리
- 코드 블록 제거
- 이모지 제거
- 리스트 마커 정리
- 연속 공백 정리
```

## 💡 최적화 팁

### 1. 음성 친화적 노트 작성

```markdown
# ✅ 좋은 예시
머신러닝은 컴퓨터가 데이터를 통해 학습하는 기술입니다.
이를 통해 패턴을 인식하고 예측을 수행할 수 있습니다.

# ❌ 피해야 할 예시  
ML = AI + Data
f(x) = Σ(wi * xi + b)
```

### 2. 섹션 구조 최적화

```markdown
# 요약 음성을 위한 섹션 구조
## 1. 개요
## 2. 핵심 개념
## 3. 실습 예제
## 4. 정리
```

### 3. 파일명 규칙

```
_notes/ML_기초_개념.md → assets/audio/ML_기초_개념.mp3
_notes/사용법_가이드.md → assets/audio/사용법_가이드.mp3
```

## 🔧 문제 해결

### GitHub Actions 실패 시

```bash
# 1. Actions 탭에서 로그 확인
# 2. 파일 권한 확인
# 3. 수동 실행
gh workflow run tts-convert.yml
```

### 음성 파일이 생성되지 않을 때

```bash
# 1. 파일 경로 확인
ls -la assets/audio/

# 2. 파일명 확인 (URL 매칭)
# URL: /notes/ML_기초_개념/
# 파일: assets/audio/ML_기초_개념.mp3
```

### 브라우저에서 음성이 재생되지 않을 때

```javascript
// 개발자 도구 → 콘솔에서 확인
console.log('Audio file check:', '/assets/audio/파일명.mp3');

// 폴백 기능 사용
TTSFallback.speak('테스트 음성입니다.');
```

## 📊 성능 최적화

### 음성 파일 크기 관리

```python
# 자동으로 적용되는 최적화:
- 5000자 초과 시 요약 생성
- 불필요한 텍스트 제거
- 압축된 MP3 형식 사용
```

### 로딩 속도 개선

```javascript
// 비동기 오디오 파일 확인
- HEAD 요청으로 파일 존재 확인
- 필요할 때만 오디오 로드
- 프리로딩 없이 온디맨드 재생
```

## 🎵 사용 시나리오

### 학습 시나리오

1. **아침 통근**: 📋 요약 듣기로 빠른 복습
2. **점심 시간**: 🎧 전체 내용 집중 학습
3. **저녁 산책**: 새로운 개념 반복 청취
4. **잠자리**: 저속 재생으로 복습

### 활용 팁

```javascript
// 속도 조절은 브라우저 기본 기능 사용
document.querySelector('audio').playbackRate = 0.8; // 느리게
document.querySelector('audio').playbackRate = 1.2; // 빠르게
```

## 🔮 향후 개선 계획

### 1. 고급 기능 추가

- [ ] 챕터별 분할 재생
- [ ] 재생 속도 UI 제어
- [ ] 음성 품질 선택 옵션
- [ ] 플레이리스트 기능

### 2. 다국어 지원

- [ ] 영어 TTS 지원
- [ ] 언어 자동 감지
- [ ] 다중 언어 음성 생성

### 3. 개인화 기능

- [ ] 선호 재생 속도 저장
- [ ] 북마크 기능
- [ ] 재생 이력 관리

## 📈 효과 측정

### 예상 효과

- **학습 시간 증가**: 이동 시간 활용으로 +30%
- **복습 효율성**: 반복 청취로 +50%
- **접근성 향상**: 시각 피로 감소
- **멀티태스킹**: 다른 작업 중 학습 가능

### 성과 지표

```
- 음성 파일 재생 횟수
- 평균 재생 시간
- 사용자 체류 시간
- 모바일 접근률
```

---

## 🎉 시작하기

이제 마크다운 파일을 작성하고 푸시하기만 하면 자동으로 음성 변환이 이루어집니다!

```bash
# 테스트해보기
echo "# 테스트 노트\n\n안녕하세요, 자동 음성 변환 테스트입니다." > _notes/테스트_노트.md
git add _notes/테스트_노트.md
git commit -m "🎧 TTS 테스트 노트 추가"
git push origin main
```

몇 분 후 블로그에서 🎧 음성 듣기 버튼을 확인해보세요!

---

#public #tts #automation #github-actions #음성학습