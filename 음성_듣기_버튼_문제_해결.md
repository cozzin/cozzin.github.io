# ìŒì„± ë“£ê¸° ë²„íŠ¼ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ ğŸ§

## ğŸ” ë¬¸ì œ ë¶„ì„

ìŒì„± ë“£ê¸° ë²„íŠ¼ì´ ë³´ì´ì§€ ì•ŠëŠ” ë¬¸ì œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì›ì¸ë“¤ë¡œ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. **DOM êµ¬ì¡° ë¶ˆì¼ì¹˜**: Jekyll í…Œë§ˆì˜ ì‹¤ì œ DOM êµ¬ì¡°ì™€ TTS í”Œë ˆì´ì–´ê°€ ê¸°ëŒ€í•˜ëŠ” êµ¬ì¡°ê°€ ë‹¤ë¦„
2. **URL ë§¤ì¹­ ì‹¤íŒ¨**: í•œêµ­ì–´ íŒŒì¼ëª…ì´ë‚˜ URL ì¸ì½”ë”© ë¬¸ì œ
3. **íƒ€ì´ë° ë¬¸ì œ**: DOM ìš”ì†Œê°€ ì™„ì „íˆ ë¡œë“œë˜ê¸° ì „ì— ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë¨
4. **ì˜¤ë””ì˜¤ íŒŒì¼ ëˆ„ë½**: ëŒ€ì‘í•˜ëŠ” ìŒì„± íŒŒì¼ì´ ì—†ìŒ

## âœ… í•´ê²° ë°©ë²•

### 1. TTS í”Œë ˆì´ì–´ ì½”ë“œ ê°œì„ 

ë‹¤ìŒê³¼ ê°™ì€ ê°œì„  ì‚¬í•­ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤:

#### ë” ê²¬ê³ í•œ DOM ìš”ì†Œ ê°ì§€
```javascript
// ì´ì „: ì œí•œì ì¸ ìš”ì†Œë§Œ í™•ì¸
const article = document.querySelector('article') || document.querySelector('.content');

// ê°œì„ : ì—¬ëŸ¬ ê°€ëŠ¥í•œ ì»¨í…Œì´ë„ˆ í™•ì¸
const possibleContainers = [
    document.querySelector('article'),
    document.querySelector('.content'),
    document.querySelector('main'),
    document.querySelector('.post-content'),
    document.querySelector('#main-content'),
    document.querySelector('.container'),
    document.querySelector('body')
];
```

#### ê°œì„ ëœ URL íŒŒì‹±
```javascript
// ì´ì „: ë‹¨ìˆœí•œ ì •ê·œì‹
const match = pageUrl.match(/\/notes\/([^\/]+)\//);

// ê°œì„ : URL ë””ì½”ë”© ë° ì—¬ëŸ¬ íŒ¨í„´ ì§€ì›
let match = pageUrl.match(/\/notes\/([^\/]+)\/?$/);
if (match) {
    const fileName = decodeURIComponent(match[1]);
    return fileName;
}
```

### 2. ë””ë²„ê¹… ê¸°ëŠ¥ ì¶”ê°€

ë¬¸ì œ ì§„ë‹¨ì„ ìœ„í•œ ì½˜ì†” ë¡œê·¸ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤:

```javascript
console.log('TTS Player: DOM loaded, current path:', window.location.pathname);
console.log('TTS Player: Using container', container);
console.log('TTS Player: Checking audio for', pageUrl, 'filename:', audioFileName);
```

### 3. ì´ë²¤íŠ¸ ë°”ì¸ë”© ê°œì„ 

DOM ìš”ì†Œ ìƒì„± í›„ ì´ë²¤íŠ¸ ë°”ì¸ë”©ì´ ë˜ë„ë¡ ì§€ì—° ì²˜ë¦¬:

```javascript
setTimeout(() => {
    const playBtn = document.getElementById('tts-play-btn');
    // ... ì´ë²¤íŠ¸ ë°”ì¸ë”©
}, 100);
```

## ğŸ§ª ë¬¸ì œ í•´ê²° í…ŒìŠ¤íŠ¸

### 1. ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ í™•ì¸

1. **F12**ë¥¼ ëˆŒëŸ¬ ê°œë°œì ë„êµ¬ë¥¼ ì—½ë‹ˆë‹¤
2. **Console** íƒ­ì„ í™•ì¸í•©ë‹ˆë‹¤
3. ë…¸íŠ¸ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤
4. ë‹¤ìŒê³¼ ê°™ì€ ë¡œê·¸ë“¤ì´ ë‚˜íƒ€ë‚˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤:

```
âœ… ì •ìƒì ì¸ ë¡œê·¸:
TTS Player: DOM loaded, current path: /notes/í…ŒìŠ¤íŠ¸_ë…¸íŠ¸/
TTS Player: Initializing for notes page
TTS Player initializing...
TTS Player: Using container <main class="...">
TTS Player: Inserting after title <h1>í…ŒìŠ¤íŠ¸ ë…¸íŠ¸</h1>
TTS Player: Checking audio for /notes/í…ŒìŠ¤íŠ¸_ë…¸íŠ¸/ filename: í…ŒìŠ¤íŠ¸_ë…¸íŠ¸
TTS Player: Full audio exists: true

âŒ ë¬¸ì œê°€ ìˆëŠ” ê²½ìš°:
TTS Player: Not a notes page, skipping initialization
TTS Player: No suitable container found
TTS Player: Could not extract filename from URL
```

### 2. DOM êµ¬ì¡° í™•ì¸

ê°œë°œì ë„êµ¬ì˜ **Elements** íƒ­ì—ì„œ ë‹¤ìŒì„ í™•ì¸í•©ë‹ˆë‹¤:

1. `<div id="tts-player">` ìš”ì†Œê°€ ì¡´ì¬í•˜ëŠ”ì§€
2. ë²„íŠ¼ë“¤ì´ ì˜¬ë°”ë¥´ê²Œ ìƒì„±ë˜ì—ˆëŠ”ì§€
3. CSS ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ì—ˆëŠ”ì§€

### 3. ë„¤íŠ¸ì›Œí¬ ìš”ì²­ í™•ì¸

**Network** íƒ­ì—ì„œ ë‹¤ìŒì„ í™•ì¸í•©ë‹ˆë‹¤:

1. `/assets/audio/íŒŒì¼ëª….mp3` íŒŒì¼ ìš”ì²­
2. ì‘ë‹µ ìƒíƒœ (200 OK ë˜ëŠ” 404 Not Found)

## ğŸ”§ ìˆ˜ë™ ë¬¸ì œ í•´ê²°

### 1. URL ê²½ë¡œ ë¬¸ì œ

ë…¸íŠ¸ í˜ì´ì§€ì˜ URLì´ `/notes/íŒŒì¼ëª…/` í˜•íƒœê°€ ì•„ë‹Œ ê²½ìš°:

```javascript
// _config.yml í™•ì¸
collections:
  notes:
    output: true
    permalink: /notes/:title/
```

### 2. ì˜¤ë””ì˜¤ íŒŒì¼ ëˆ„ë½

í•´ë‹¹ ë…¸íŠ¸ì— ëŒ€ì‘í•˜ëŠ” ì˜¤ë””ì˜¤ íŒŒì¼ì´ ì—†ëŠ” ê²½ìš°:

```bash
# ì˜¤ë””ì˜¤ íŒŒì¼ í™•ì¸
ls -la assets/audio/

# GitHub Actions ë¡œê·¸ í™•ì¸
# Repository â†’ Actions â†’ TTS Conversion workflow
```

### 3. ìˆ˜ë™ TTS í”Œë ˆì´ì–´ í…ŒìŠ¤íŠ¸

ì½˜ì†”ì—ì„œ ìˆ˜ë™ìœ¼ë¡œ í”Œë ˆì´ì–´ë¥¼ ìƒì„±í•´ë³´ì„¸ìš”:

```javascript
// ì½˜ì†”ì—ì„œ ì‹¤í–‰
new TTSPlayer();

// ë˜ëŠ” í´ë°± ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
TTSFallback.speak('í…ŒìŠ¤íŠ¸ ìŒì„±ì…ë‹ˆë‹¤.');
```

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

ìŒì„± ë“£ê¸° ë²„íŠ¼ì´ ë³´ì´ì§€ ì•Šì„ ë•Œ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

- [ ] URLì´ `/notes/íŒŒì¼ëª…/` í˜•íƒœì¸ì§€
- [ ] í•´ë‹¹ íŒŒì¼ì˜ ì˜¤ë””ì˜¤ íŒŒì¼(`assets/audio/íŒŒì¼ëª….mp3`)ì´ ì¡´ì¬í•˜ëŠ”ì§€
- [ ] ë¸Œë¼ìš°ì € ì½˜ì†”ì— ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ì—†ëŠ”ì§€
- [ ] Jekyll ë¹Œë“œê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆëŠ”ì§€
- [ ] GitHub Actions TTS ë³€í™˜ ì›Œí¬í”Œë¡œìš°ê°€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€

## ğŸš€ ì¶”ê°€ ê¸°ëŠ¥

### 1. ëª¨ë“  í¬ìŠ¤íŠ¸ì—ì„œ TTS ì§€ì›

í˜„ì¬ëŠ” `/notes/` ê²½ë¡œì—ì„œë§Œ ì‘ë™í•˜ì§€ë§Œ, ëª¨ë“  í¬ìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´:

```javascript
// ì¡°ê±´ ë³€ê²½
if (window.location.pathname.includes('/notes/') || 
    window.location.pathname.includes('/posts/')) {
    new TTSPlayer();
}
```

### 2. ìë™ ì¬ìƒ ê¸°ëŠ¥

í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ìœ¼ë¡œ ìŒì„±ì„ ì¬ìƒí•˜ë ¤ë©´:

```javascript
// TTS í”Œë ˆì´ì–´ ì´ˆê¸°í™” í›„
setTimeout(() => {
    const playBtn = document.getElementById('tts-play-btn');
    if (playBtn && !playBtn.disabled) {
        playBtn.click();
    }
}, 2000);
```

### 3. í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

ìŒì„± ì¬ìƒì„ ìœ„í•œ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤:

```javascript
document.addEventListener('keydown', (e) => {
    if (e.ctrlKey && e.key === 'p') {
        e.preventDefault();
        const playBtn = document.getElementById('tts-play-btn');
        if (playBtn) playBtn.click();
    }
});
```

## ğŸ“ ë¬¸ì œ ì§€ì† ì‹œ ëŒ€ì‘

ìœ„ ë°©ë²•ë“¤ë¡œë„ ë¬¸ì œê°€ í•´ê²°ë˜ì§€ ì•Šìœ¼ë©´:

1. **ë¸Œë¼ìš°ì € ìºì‹œ ì´ˆê¸°í™”**: Ctrl+Shift+R (ë˜ëŠ” Cmd+Shift+R)
2. **ë‹¤ë¥¸ ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸**: Chrome, Firefox, Safari ë“±
3. **ëª¨ë°”ì¼ì—ì„œ í…ŒìŠ¤íŠ¸**: ë°˜ì‘í˜• UI í™•ì¸
4. **GitHub Actions ë¡œê·¸ í™•ì¸**: TTS ë³€í™˜ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ìƒíƒœ
5. **Jekyll ë¡œì»¬ ë¹Œë“œ**: `bundle exec jekyll serve`ë¡œ ë¡œì»¬ í…ŒìŠ¤íŠ¸

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### 1. ì˜¤ë””ì˜¤ íŒŒì¼ ì••ì¶•

```python
# TTS ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì••ì¶•ë¥  ì¡°ì •
tts.save(output_path, mp3=True, bitrate="64k")
```

### 2. ì§€ì—° ë¡œë”©

```javascript
// ì˜¤ë””ì˜¤ íŒŒì¼ì„ í•„ìš”í•  ë•Œë§Œ ë¡œë“œ
const audio = new Audio();
audio.src = audioPath;
audio.preload = 'none';
```

### 3. ìºì‹± í™œìš©

```javascript
// ì˜¤ë””ì˜¤ íŒŒì¼ ìºì‹±
const audioCache = new Map();
if (audioCache.has(audioPath)) {
    return audioCache.get(audioPath);
}
```

---

ì´ ê°€ì´ë“œë¥¼ í†µí•´ ìŒì„± ë“£ê¸° ë²„íŠ¼ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ , ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸ‰

#public #tts #troubleshooting #ìŒì„±í•™ìŠµ #ë²„ê·¸ìˆ˜ì •